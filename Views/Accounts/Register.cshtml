@model Doctrack.Models.Account

@{
  ViewData["Title"] = "Register";
}

<link rel="stylesheet" href="~/css/accountCard.css" asp-append-version="true" />

<div class="container-cover-card">
  <div class="container-card">
    <div class="container-register">
      <h2 class="card-title">Register</h2>
      <form asp-action="Register">
        <div class="form-group">
          <div class="icon-inside">
            <i class="bi bi-person-fill icon-prefix"></i>
            <input id="username" name="username" value='@ViewData["username"]' class="form-control" autocomplete="off" autofocus placeholder="Username"/>
          </div>
          <span id="username-error" class="text-danger">@ViewData["userError"]</span>
        </div>
        <div class="form-group">
          <div class="icon-inside">
            <i class="bi bi-key-fill icon-prefix"></i>
            <i class="bi bi-eye-slash-fill icon-postfix"></i>
            <input type="password" id="password" name="password" class="form-control" autocomplete="off" autofocus placeholder="Password"/>
          </div>
          <span id="password-error" class="text-danger">@ViewData["passError"]</span>
        </div>
        <div class="form-group">
          <div class="icon-inside">
            <i class="bi bi-key-fill icon-prefix"></i>
            <i class="bi bi-eye-slash-fill icon-postfix"></i>
            <input type="password" id="confirm-password"  name="confirmPassword" class="form-control" autocomplete="off" autofocus placeholder="Confirm Password"/>
          </div>
          <span id="password-error" class="text-danger">@ViewData["conPassError"]</span>
        </div>
        <div class="form-group">
          <div class="icon-inside">
            <i class="bi bi-envelope-open-fill icon-prefix"></i>
            <input type="text" id="email"  name="email" value='@ViewData["email"]' class="form-control" autocomplete="off" autofocus placeholder="Email address"/>
          </div>
          <span id="email-error" class="text-danger">@ViewData["emailError"]</span>
        </div>
        <div class="form-group container-button">
          <input type="submit" value="Create Account" class="button button-primary" />
          <p>Already have an account? <a href="/accounts/login">Sign in</a></p>
        </div>
      </form>
    </div>
    <div class="container-greeting">
      <div class="content-greeting">
        <div class="header-greeting">
          <h2>Glad to see You!</h2>
        </div>
        <div class="body-greeting">
          <p>
            So let effort be your constant guide,<br/>
            You can achieve anything set out to do.
          </p>
        </div>
        <div class="poet-greeting">
          <p class="poet"><em>-ChatGPT</em></p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).on('click', '.icon-postfix', function() {
    $(this).toggleClass('bi bi-eye-slash-fill');
    $(this).toggleClass('bi bi-eye-fill');

    if($(this).hasClass('bi-eye-slash-fill'))
    {
      $(this).next().attr('type', 'password'); 
    } else {
      $(this).next().attr('type', 'text'); 
    }
  })
</script>